{"ast":null,"code":"import { useHistory } from \"react-router-dom\";\nimport jwtParse from \"jwt-decode\";\nconst history = useHistory();\nexport const getUserFromLocalStorage = () => {\n  const token = localStorage.getItem(\"token\");\n\n  if (token === null) {\n    return null;\n  }\n\n  return jwtParse(token);\n};\nexport const getProductsInBasketIdListFromLocalStorage = () => {\n  const idList = localStorage.getItem(\"productInBasketIdList\");\n\n  if (idList === null) {\n    return [];\n  }\n\n  return JSON.parse(idList);\n};\nexport const redirectAfterAuth = user => {\n  if (user.isAdmin === false) {\n    history.push(\"/\");\n  }\n\n  if (user.isAdmin === true) {\n    history.push(\"/admin\");\n  }\n};","map":{"version":3,"sources":["D:/VSCODE/diplom/client/src/utils.ts"],"names":["useHistory","jwtParse","history","getUserFromLocalStorage","token","localStorage","getItem","getProductsInBasketIdListFromLocalStorage","idList","JSON","parse","redirectAfterAuth","user","isAdmin","push"],"mappings":"AAAA,SAASA,UAAT,QAA2B,kBAA3B;AAEA,OAAOC,QAAP,MAAqB,YAArB;AAEA,MAAMC,OAAO,GAAGF,UAAU,EAA1B;AAEA,OAAO,MAAMG,uBAAuB,GAAG,MAAoB;AACzD,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAIF,KAAK,KAAK,IAAd,EAAoB;AAClB,WAAO,IAAP;AACD;;AACD,SAAOH,QAAQ,CAACG,KAAD,CAAf;AACD,CANM;AAQP,OAAO,MAAMG,yCAAyC,GAAG,MAAgB;AACvE,QAAMC,MAAM,GAAGH,YAAY,CAACC,OAAb,CAAqB,uBAArB,CAAf;;AACA,MAAIE,MAAM,KAAK,IAAf,EAAqB;AACnB,WAAO,EAAP;AACD;;AACD,SAAOC,IAAI,CAACC,KAAL,CAAWF,MAAX,CAAP;AACD,CANM;AAQP,OAAO,MAAMG,iBAAiB,GAAIC,IAAD,IAAiB;AAChD,MAAIA,IAAI,CAACC,OAAL,KAAiB,KAArB,EAA4B;AAC1BX,IAAAA,OAAO,CAACY,IAAR,CAAa,GAAb;AACD;;AACD,MAAIF,IAAI,CAACC,OAAL,KAAiB,IAArB,EAA2B;AACzBX,IAAAA,OAAO,CAACY,IAAR,CAAa,QAAb;AACD;AACF,CAPM","sourcesContent":["import { useHistory } from \"react-router-dom\";\r\nimport { IUser } from \"./types\";\r\nimport jwtParse from \"jwt-decode\";\r\n\r\nconst history = useHistory();\r\n\r\nexport const getUserFromLocalStorage = (): IUser | null => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token === null) {\r\n    return null;\r\n  }\r\n  return jwtParse(token);\r\n};\r\n\r\nexport const getProductsInBasketIdListFromLocalStorage = (): string[] => {\r\n  const idList = localStorage.getItem(\"productInBasketIdList\");\r\n  if (idList === null) {\r\n    return [];\r\n  }\r\n  return JSON.parse(idList);\r\n};\r\n\r\nexport const redirectAfterAuth = (user: IUser) => {\r\n  if (user.isAdmin === false) {\r\n    history.push(\"/\");\r\n  }\r\n  if (user.isAdmin === true) {\r\n    history.push(\"/admin\");\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}